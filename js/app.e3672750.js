(function(t){function n(n){for(var r,i,s=n[0],c=n[1],u=n[2],f=0,h=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(n);while(h.length)h.shift()();return a.push.apply(a,u||[]),e()}function e(){for(var t,n=0;n<a.length;n++){for(var e=a[n],r=!0,s=1;s<e.length;s++){var c=e[s];0!==o[c]&&(r=!1)}r&&(a.splice(n--,1),t=i(i.s=e[0]))}return t}var r={},o={app:0},a=[];function i(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=r,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/wave-function-collapse-js/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var l=c;a.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},1106:function(t,n,e){"use strict";e("921a")},"22f8":function(t,n,e){},2342:function(t,n,e){"use strict";e("dca1")},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var r=e("2b0e"),o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("Grid",{attrs:{width:4,height:4}})],1)},a=[],i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"grid"},t._l(t.gridArray,(function(n,r){return e("div",{key:r,staticClass:"grid__cellRow"},t._l(n,(function(t,n){return e("Cell",{key:n,attrs:{identitiesInCell:t,y:r,x:n}})})),1)})),0)},s=[],c=(e("a9e3"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"cell",class:{"cell--flex":1===t.identitiesInCell.length},on:{click:function(n){return t.traverse(t.gridArray,[{y:t.y,x:t.x}])}}},t._l(t.identitiesInCell,(function(t,n){return e("SVGcell",{key:n,attrs:{identity:t[0]}})})),1)}),u=[],l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"cellContainer"},["water"===t.identity?e("svg",{staticClass:"cellSVG",class:t.identity,attrs:{width:"52.148",height:"33.399",viewBox:"0 0 52.148 33.399",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M 5.176 13.77 L 0 9.57 A 30.657 30.657 0 0 1 3.937 4.944 Q 9.155 0 15.332 0 A 13.376 13.376 0 0 1 18.94 0.54 Q 22.149 1.441 26.019 3.847 A 45.344 45.344 0 0 1 26.27 4.004 A 50.008 50.008 0 0 0 29.21 5.732 Q 33.434 8.008 35.938 8.008 Q 41.992 8.008 46.973 0.684 L 52.148 4.98 A 24.673 24.673 0 0 1 47.498 10.244 A 29.873 29.873 0 0 1 45.361 11.914 Q 41.113 14.941 35.84 14.941 A 14.919 14.919 0 0 1 30.809 14.038 A 19.195 19.195 0 0 1 28.32 12.939 A 110.774 110.774 0 0 1 23.834 10.453 A 90.134 90.134 0 0 1 21.338 8.936 A 18.993 18.993 0 0 0 19.626 7.968 Q 17.719 7.026 16.209 6.942 A 5.25 5.25 0 0 0 15.918 6.934 A 11.658 11.658 0 0 0 13.152 7.246 A 8.743 8.743 0 0 0 10.01 8.691 A 17.523 17.523 0 0 0 8.058 10.378 Q 6.625 11.798 5.176 13.77 Z M 5.176 32.227 L 0 28.027 A 30.657 30.657 0 0 1 3.937 23.401 Q 9.155 18.457 15.332 18.457 A 13.376 13.376 0 0 1 18.94 18.997 Q 22.149 19.898 26.019 22.304 A 45.344 45.344 0 0 1 26.27 22.461 A 50.008 50.008 0 0 0 29.21 24.189 Q 33.434 26.465 35.938 26.465 Q 41.992 26.465 46.973 19.141 L 52.148 23.438 A 24.673 24.673 0 0 1 47.498 28.701 A 29.873 29.873 0 0 1 45.361 30.371 Q 41.113 33.398 35.84 33.398 A 14.919 14.919 0 0 1 30.809 32.495 A 19.195 19.195 0 0 1 28.32 31.397 A 110.774 110.774 0 0 1 23.834 28.91 A 90.134 90.134 0 0 1 21.338 27.393 A 18.993 18.993 0 0 0 19.626 26.425 Q 17.719 25.483 16.209 25.399 A 5.25 5.25 0 0 0 15.918 25.391 A 11.658 11.658 0 0 0 13.152 25.703 A 8.743 8.743 0 0 0 10.01 27.148 A 17.523 17.523 0 0 0 8.058 28.835 Q 6.625 30.255 5.176 32.227 Z","vector-effect":"non-scaling-stroke"}})]):"coast"===t.identity?e("svg",{staticClass:"cellSVG",class:t.identity,attrs:{width:"100%",height:"100%",viewBox:"0 0 46.152 44.932",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M 0 54.932 L 56.152 0 L 56.152 54.932 L 0 54.932 Z","vector-effect":"non-scaling-stroke"}})]):"land"===t.identity?e("svg",{staticClass:"cellSVG",class:t.identity,attrs:{width:"100%",height:"100%",viewBox:"-30 -5 100 100",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M 4.59 45.41 L 0 43.164 L 15.137 21.289 L 15.137 17.676 L 4.59 28.809 L 0 26.563 L 18.164 0 L 36.328 26.563 L 31.738 28.809 L 21.191 17.676 L 21.191 21.289 L 36.328 43.164 L 31.738 45.41 L 21.191 34.277 L 21.191 88.965 L 15.137 88.965 L 15.137 34.277 L 4.59 45.41 Z","vector-effect":"non-scaling-stroke"}})]):"mountain"===t.identity?e("svg",{staticClass:"cellSVG",class:t.identity,attrs:{width:"100%",height:"100%",viewBox:"0 0 58 44.932",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M 55.566 49.805 L 0 49.805 L 27.051 0 L 55.566 49.805 Z M 27.148 41.895 L 27.148 15.186 L 13.428 41.895 L 27.148 41.895 Z"}})]):t._e()])},f=[],h={props:{identity:String}},d=h,p=(e("1106"),e("2877")),g=Object(p["a"])(d,l,f,!1,null,null,null),y=g.exports,v=(e("99af"),e("159b"),e("c740"),e("a434"),function(t,n){return{north:{y:function(){return t-1},x:function(){return n}},east:{y:function(){return t},x:function(){return n+1}},south:{y:function(){return t+1},x:function(){return n}},west:{y:function(){return t},x:function(){return n-1}}}}),w={northEastCorner:["south","west"],northWestCorner:["east","south"],northWall:["east","south","west"],southEastCorner:["north","west"],southWestCorner:["north","east"],southWall:["north","east","west"],eastWall:["north","south","west"],westWall:["north","east","south"],noWall:["north","east","south","west"]},m=function(t,n,e){return[0===t&&n===e[0].length-1,0===t&&0===n,0===t&&n!==e[0].length-1&&0!==n,t===e.length-1&&n===e[0].length-1,t===e.length-1&&0===n,t===e.length-1&&n!==e[0].length-1&&0!==n,n===e[0].length-1&&0!==t&&t!==e.length-1,0===n&&0!==t&&t!==e.length-1,0!==t&&t!==e.length-1&&n!==e[0].length-1&&0!==n]},b=function(t,n,e,r){var o=v(t,n),a="";for(var i in o)if(o[i].y()===e&&o[i].x()===r)return i;return a},x=function(t,n,e){var r=e.y,o=e.x,a=JSON.parse(JSON.stringify(n));return t.forEach((function(t){var e=n[t.y][t.x],i=b(r,o,t.y,t.x);e.forEach((function(n){var e=a[r][o][0][1].rules[i],s=e.indexOf(n[0]);if(-1===s){var c=a[t.y][t.x].findIndex((function(t){if(t[0]===n[0])return!0}));a[t.y][t.x].splice(c,1)}}))})),a},O=function(t,n){var e=[];return n.forEach((function(n){var r=t[n.y][n.x];if(r.length>1&&r.length<4)return e.push({y:n.y,x:n.x,amount:r.length}),e})),console.log("current block:",e),e},A=(e("b64b"),e("fb6a"),function(t,n,e,r,o){var a=0;return o.length?(a=Math.floor(Math.random()*o.length),t[n][e].findIndex((function(t){return t[0]===o[a]}))):(a=Math.floor(Math.random()*r.length),t[n][e].findIndex((function(t){return t[0]===r[a]})))}),L=function(t,n){var e=n.y,r=n.x,o=JSON.parse(JSON.stringify(t)),a=[],i=[],s=[],c=Object.keys(w);return m(e,r,t).forEach((function(n,u){if(n){var l=w[c[u]];l.forEach((function(n){var a=v(e,r)[n].y(),c=v(e,r)[n].x(),u=t[a][c];i.length?(u.forEach((function(t){o[e][r].forEach((function(e){var r=t[1].rules[n],o=r.indexOf(e[0]),a=r[o];-1!==o&&-1!==i.indexOf(a)&&s.push(e[0])}))})),i=s,s=[]):u.forEach((function(t){o[e][r].forEach((function(e){var r=t[1].rules[n],o=r.indexOf(e[0]);-1!==o&&i.push(e[0])}))}))})),a=A(o,e,r,i,s),o[e][r]=o[e][r].slice(a,a+1)}})),o},S=function(t,n){var e=n.y,r=n.x,o=[];return m(e,r,t).forEach((function(n,a){if(n){var i=Object.keys(w),s=w[i[a]];console.log("currValidSearchDirections:",s),s.forEach((function(n){var a=v(e,r)[n].y(),i=v(e,r)[n].x(),s=t[a][i];4===s.length&&o.push({y:a,x:i})}))}})),o},C=e("2909"),j=(e("0481"),function(t){var n=JSON.parse(JSON.stringify(t));return Array.isArray(n[0])?[n[0]].concat(Object(C["a"])(n.slice(2))).flat():n.slice(1)}),E=function(t){return t.sort((function(t,n){return t.amount===n.amount?Math.floor(2*Math.random()-1):t.amount-n.amount}))},_=[],M=function t(n,e){if(console.log("--START------------------------------------------"),e.length>0){console.log("ORIGINAL CELL array:",n[e[0].y][e[0].x]),console.log("ORIGINAL CELL:",e[0].y,e[0].x);var r=JSON.parse(JSON.stringify(n)),o=JSON.parse(JSON.stringify(e));r=L(r,o[0]);var a=S(r,o[0]);a.length&&(r=x(a,r,o[0]),o=[O(r,a)].concat(o),o[0]=E(o[0])),o=j(o),_=r,t(r,o)}return _},N={name:"cell",components:{SVGcell:y},props:{identitiesInCell:Array,y:Number,x:Number},methods:{logToConsole:function(t){return console.log(t)},traverse:function(t,n,e){var r=M(t,n,e);this.$store.state.grid.grid=r}},computed:{gridArray:function(){return this.$store.state.grid.grid}}},k=N,Q=(e("7ea3"),Object(p["a"])(k,c,u,!1,null,null,null)),I=Q.exports,J={name:"grid",props:{width:Number,height:Number},components:{Cell:I},computed:{gridArray:function(){return this.$store.state.grid.grid}}},G=J,R=(e("2342"),Object(p["a"])(G,i,s,!1,null,null,null)),P=R.exports,W={name:"App",components:{Grid:P}},$=W,V=(e("5c0b"),Object(p["a"])($,o,a,!1,null,null,null)),T=V.exports,Z=e("2f62"),D=e("5530"),U=(e("4fad"),{state:function(){return{water:{colour:"blue",rulesDescription:"Water can only be near Coast or itself",rules:{north:["water","coast"],east:["water","coast"],south:["water","coast"],west:["water","coast"]},symbol:"≈"},coast:{colour:"light brown",rulesDescription:"Coast must have Land on one side and Sea on the other",rules:{north:["water","coast","land"],east:["water","coast","land"],south:["water","coast","land"],west:["water","coast","land"]},symbol:"◢"},land:{colour:"green",symbol:"↟",rulesDescription:"Land can be next to itselt, mountains or coast",rules:{north:["coast","land","mountain"],east:["coast","land","mountain"],south:["coast","land","mountain"],west:["coast","land","mountain"]}},mountain:{colour:"dark grey",rulesDescription:"Mountain can only be near Land or itself",rules:{north:["land","mountain"],east:["land","mountain"],south:["land","mountain"],west:["land","mountain"]},symbol:"◮"}}},mutations:{waterUpdate:function(t,n){t.water=Object(D["a"])(Object(D["a"])({},t.water),n)},coastUpdate:function(t,n){t.coast=n},landUpdate:function(t,n){t.land=n},mountainUpdate:function(t,n){t.mountain=n}},actions:{updateIndentity:function(t,n){var e=t.commit,r=t.state;for(var o in n)if(Object.prototype.hasOwnProperty.call(r,o)){var a={};for(var i in n[o])Object.prototype.hasOwnProperty.call(r[o],i)?a[i]=n[o][i]:console.log("ERROR! ".concat(i," does not exist in ").concat(o,"."));e("".concat(o,"Update"),a)}else console.log("ERROR! ".concat(o," is not a valid identity."))}},getters:{identitiesArray:function(t){return Object.entries(t)}}}),B=function(t,n,e){for(var r=[[]],o=function(n){r[n]=[];for(var o=function(t){r[n][t]=[],e.forEach((function(e){r[n][t].push(e)}))},a=0;a<t;a++)o(a)},a=0;a<n;a++)o(a);return r},q={state:function(){return{width:4,height:4,grid:B(8,8,Object.entries(U.state()))}}};r["a"].use(Z["a"]);var z=new Z["a"].Store({modules:{identities:U,grid:q}});e("22f8");r["a"].config.productionTip=!1,new r["a"]({store:z,render:function(t){return t(T)}}).$mount("#app")},"5c0b":function(t,n,e){"use strict";e("9c0c")},"5fb8":function(t,n,e){},"7ea3":function(t,n,e){"use strict";e("5fb8")},"921a":function(t,n,e){},"9c0c":function(t,n,e){},dca1:function(t,n,e){}});
//# sourceMappingURL=app.e3672750.js.map